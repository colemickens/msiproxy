# msiproxy

Implements MSI proxying user access token.

Similar, possibly, to what is powering MSI for Azure Shell instances?

## Example MSI response in Azure Shell

`curl http://localhost:50342/oauth2/token -H Metadata:true`

```json
{
  "access_token": "eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6IjdfWnVmMXR2a3dMeFlhSFMzcTZsVWpVWUlHdyIsImtpZCI6IjdfWnVmMXR2a3dMeFlhSFMzcTZsVWpVWUlHdyJ9.eyJhdWQiOiJodHRwczovL21hbmFnZW1lbnQuY29yZS53aW5kb3dzLm5ldC8iLCJpc3MiOiJodHRwczovL3N0cy53aW5kb3dzLm5ldC8xM2RlMGExNS1iNWRiLTQ0YjktYjY4Mi1iNGJhODJhZmJkMjkvIiwiaWF0IjoxNTM1NTIwNzcwLCJuYmYiOjE1MzU1MjA3NzAsImV4cCI6MTUzNTUyNDY3MCwiYWNyIjoiMSIsImFpbyI6IkFTUUEyLzhJQUFBQXNmNnVRMTQ2RmtTeEZ0NGVVT3NIRmZFcURtTUYwdFNZbmVISHZzRFY1alU9IiwiYWx0c2VjaWQiOiIxOmxpdmUuY29tOjAwMDNCRkZEOURBRkQzOTkiLCJhbXIiOlsicHdkIl0sImFwcGlkIjoiYjY3N2MyOTAtY2Y0Yi00YThlLWE2MGUtOTFiYTY1MGE0YWJlIiwiYXBwaWRhY3IiOiIyIiwiZV9leHAiOjI2MjgwMCwiZW1haWwiOiJjb2xlLm1pY2tlbnNAZ21haWwuY29tIiwiZmFtaWx5X25hbWUiOiJNaWNrZW5zIiwiZ2l2ZW5fbmFtZSI6IkNvbGUiLCJncm91cHMiOlsiNTQxNmQ3ZmItZDJlMS00NTE0LTgwYzgtYzVkZDMxNmQyYzM5IiwiMzRhNmI0ZWQtNDFlYy00OWIwLTkyOWItNjdlZDViYjczZDUxIl0sImlkcCI6ImxpdmUuY29tIiwiaXBhZGRyIjoiMjQuNTYuMjQ0LjE4NiIsIm5hbWUiOiJDb2xlIE1pY2tlbnMiLCJvaWQiOiIxMDUyZGVhZS1jNjM1LTRjYjgtYTMwYy0yZWZmMTIyYWZmMmYiLCJwdWlkIjoiMTAwMzNGRkY4NzdBNkEzNSIsInNjcCI6InVzZXJfaW1wZXJzb25hdGlvbiIsInN1YiI6IktTZXlYODZpbzRmOGM4Z3ZIVEppMUI1ME95ZlA5b0ttLVdDMTlkZm4yUXciLCJ0aWQiOiIxM2RlMGExNS1iNWRiLTQ0YjktYjY4Mi1iNGJhODJhZmJkMjkiLCJ1bmlxdWVfbmFtZSI6ImxpdmUuY29tI2NvbGUubWlja2Vuc0BnbWFpbC5jb20iLCJ1dGkiOiJMMDBtX0dwX1IwU21wRk1mUnNjT0FBIiwidmVyIjoiMS4wIiwid2lkcyI6WyI2MmU5MDM5NC02OWY1LTQyMzctOTE5MC0wMTIxNzcxNDVlMTAiXX0.MyCkMPxz33xsLlLmLHBpaFDXh1cGGlN3F6dPY-zdfDagPlgZcxjpkdRRLFsYJRbMWfeS7JevedwjObdlXylGes9e6KRBTgXl6EbfHJSvMpHsyQ3luJNye1eUDbmH627zI_fTbiPA2QQbpEhnZalJMjQMRbMmeWCC5N-LZKcKp7bBvA6TteS69WjjS_hp7JHRq7EOoU5blpVoDRZ_YQJ2MP6MDT-EYCO6xXWxkNoC577lDg0nSOH07crLZXp3Ki_aHsstUzz0M_zq48plwtwUjvRnWCqJfImRwwpNl2zozQ0S-yuW-pxeUv35s3KQokzxyUlkQ6esenjH3ADkoLzmUQ",
  "refresh_token": "",
  "expires_in": "3900",
  "expires_on": "1535524670",
  "not_before": "1535520770",
  "resource": "https://management.core.windows.net/",
  "token_type": "Bearer"
}
```

## Implementation Notes

